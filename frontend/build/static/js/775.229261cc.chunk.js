(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[775],{5458(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=5458,t.exports=e},7775(t,e,a){"use strict";a.d(e,{FFmpeg:()=>F});var i=a(3986),n=a(4705),s=a(1398),o=a(4558),l=a(8458);"https://unpkg.com/@ffmpeg/core@".concat("0.12.9","/dist/umd/ffmpeg-core.js");var r;!function(t){t.LOAD="LOAD",t.EXEC="EXEC",t.FFPROBE="FFPROBE",t.WRITE_FILE="WRITE_FILE",t.READ_FILE="READ_FILE",t.DELETE_FILE="DELETE_FILE",t.RENAME="RENAME",t.CREATE_DIR="CREATE_DIR",t.LIST_DIR="LIST_DIR",t.DELETE_DIR="DELETE_DIR",t.ERROR="ERROR",t.DOWNLOAD="DOWNLOAD",t.PROGRESS="PROGRESS",t.LOG="LOG",t.MOUNT="MOUNT",t.UNMOUNT="UNMOUNT"}(r||(r={}));const E=(()=>{let t=0;return()=>t++})(),A=(new Error("unknown message type"),new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first")),h=new Error("called FFmpeg.terminate()"),d=(new Error("failed to import ffmpeg-core.js"),["classWorkerURL"]);var c,R=new WeakMap,p=new WeakMap,u=new WeakMap,f=new WeakMap,g=new WeakMap,D=new WeakMap,O=new WeakMap;class F{constructor(){var t=this;(0,s.A)(this,R,null),(0,s.A)(this,p,{}),(0,s.A)(this,u,{}),(0,s.A)(this,f,[]),(0,s.A)(this,g,[]),(0,n.A)(this,"loaded",!1),(0,s.A)(this,D,()=>{(0,l.A)(R,this)&&((0,l.A)(R,this).onmessage=t=>{let{data:{id:e,type:a,data:i}}=t;switch(a){case r.LOAD:this.loaded=!0,(0,l.A)(p,this)[e](i);break;case r.MOUNT:case r.UNMOUNT:case r.EXEC:case r.FFPROBE:case r.WRITE_FILE:case r.READ_FILE:case r.DELETE_FILE:case r.RENAME:case r.CREATE_DIR:case r.LIST_DIR:case r.DELETE_DIR:(0,l.A)(p,this)[e](i);break;case r.LOG:(0,l.A)(f,this).forEach(t=>t(i));break;case r.PROGRESS:(0,l.A)(g,this).forEach(t=>t(i));break;case r.ERROR:(0,l.A)(u,this)[e](i)}delete(0,l.A)(p,this)[e],delete(0,l.A)(u,this)[e]})}),(0,s.A)(this,O,function(e){let{type:a,data:i}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0;return(0,l.A)(R,t)?new Promise((e,o)=>{const r=E();(0,l.A)(R,t)&&(0,l.A)(R,t).postMessage({id:r,type:a,data:i},n),(0,l.A)(p,t)[r]=e,(0,l.A)(u,t)[r]=o,null===s||void 0===s||s.addEventListener("abort",()=>{o(new DOMException("Message # ".concat(r," was aborted"),"AbortError"))},{once:!0})}):Promise.reject(A)}),(0,n.A)(this,"load",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{classWorkerURL:n}=e,s=(0,i.A)(e,d),{signal:E}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.A)(R,t)||((0,o.A)(R,t,n?new Worker(a(5458)(n),{type:"module"}):new Worker(new URL(a.p+a.u(726),a.b),{type:void 0})),(0,l.A)(D,t).call(t)),(0,l.A)(O,t).call(t,{type:r.LOAD,data:s},void 0,E)}),(0,n.A)(this,"exec",function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,{signal:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.A)(O,t).call(t,{type:r.EXEC,data:{args:e,timeout:a}},void 0,i)}),(0,n.A)(this,"ffprobe",function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,{signal:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.A)(O,t).call(t,{type:r.FFPROBE,data:{args:e,timeout:a}},void 0,i)}),(0,n.A)(this,"terminate",()=>{const t=Object.keys((0,l.A)(u,this));for(const e of t)(0,l.A)(u,this)[e](h),delete(0,l.A)(u,this)[e],delete(0,l.A)(p,this)[e];(0,l.A)(R,this)&&((0,l.A)(R,this).terminate(),(0,o.A)(R,this,null),this.loaded=!1)}),(0,n.A)(this,"writeFile",function(e,a){let{signal:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=[];return a instanceof Uint8Array&&n.push(a.buffer),(0,l.A)(O,t).call(t,{type:r.WRITE_FILE,data:{path:e,data:a}},n,i)}),(0,n.A)(this,"mount",(t,e,a)=>(0,l.A)(O,this).call(this,{type:r.MOUNT,data:{fsType:t,options:e,mountPoint:a}},[])),(0,n.A)(this,"unmount",t=>(0,l.A)(O,this).call(this,{type:r.UNMOUNT,data:{mountPoint:t}},[])),(0,n.A)(this,"readFile",function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",{signal:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.A)(O,t).call(t,{type:r.READ_FILE,data:{path:e,encoding:a}},void 0,i)}),(0,n.A)(this,"deleteFile",function(e){let{signal:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.A)(O,t).call(t,{type:r.DELETE_FILE,data:{path:e}},void 0,a)}),(0,n.A)(this,"rename",function(e,a){let{signal:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.A)(O,t).call(t,{type:r.RENAME,data:{oldPath:e,newPath:a}},void 0,i)}),(0,n.A)(this,"createDir",function(e){let{signal:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.A)(O,t).call(t,{type:r.CREATE_DIR,data:{path:e}},void 0,a)}),(0,n.A)(this,"listDir",function(e){let{signal:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.A)(O,t).call(t,{type:r.LIST_DIR,data:{path:e}},void 0,a)}),(0,n.A)(this,"deleteDir",function(e){let{signal:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.A)(O,t).call(t,{type:r.DELETE_DIR,data:{path:e}},void 0,a)})}on(t,e){"log"===t?(0,l.A)(f,this).push(e):"progress"===t&&(0,l.A)(g,this).push(e)}off(t,e){"log"===t?(0,o.A)(f,this,(0,l.A)(f,this).filter(t=>t!==e)):"progress"===t&&(0,o.A)(g,this,(0,l.A)(g,this).filter(t=>t!==e))}}!function(t){t.MEMFS="MEMFS",t.NODEFS="NODEFS",t.NODERAWFS="NODERAWFS",t.IDBFS="IDBFS",t.WORKERFS="WORKERFS",t.PROXYFS="PROXYFS"}(c||(c={}))}}]);
//# sourceMappingURL=775.229261cc.chunk.js.map